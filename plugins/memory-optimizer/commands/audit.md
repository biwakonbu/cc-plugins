---
description: 現在のメモリ構成を監査し、最適化ポイントをレポート
allowed-tools: Read, Glob, Grep, Bash(wc:*), Bash(ls:*)
---

# /memory-optimizer:audit

プロジェクトのメモリ構成を監査し、改善点を報告します。

## 監査手順

以下の順序で監査を実施してください:

### 1. ファイル存在チェック

確認するファイル:
- `./CLAUDE.md` - プロジェクトメモリ
- `./.claude/rules/` - ルールフォルダ
- `./CLAUDE.local.md` - ローカルメモリ

### 2. サイズ分析

各ファイルの行数を確認:
```bash
wc -l CLAUDE.md
```

評価基準:
- 〜150行: 最適
- 150-300行: 良好
- 300行超: 要改善

### 3. 内容チェック

CLAUDE.md に以下が含まれているか確認:
- [ ] プロジェクト概要
- [ ] 技術スタック
- [ ] 開発コマンド
- [ ] コーディング規約

### 4. rules フォルダ分析

存在する場合:
```bash
ls -la .claude/rules/
```

確認項目:
- ファイル数（推奨: 〜10）
- 各ファイルのサイズ
- paths 条件の有無

### 5. 問題点の特定

以下をチェック:
- 300行超のファイル → 分離を推奨
- 特定ファイル向けルールが CLAUDE.md にある → rules に移動
- 重複内容 → 統合を推奨
- 秘密情報 → 即時削除

## 出力フォーマット

以下の形式でレポートを出力:

```markdown
# メモリ監査レポート

## 概要

| 項目 | 状態 | 詳細 |
|------|------|------|
| CLAUDE.md | ✓/△/× | XX行 |
| rules フォルダ | ✓/△/× | Xファイル |
| ローカルメモリ | ✓/− | 有無 |

## 評価: A/B/C/D

## 良い点

- ...

## 改善点

1. [優先度高] ...
2. [優先度中] ...
3. [優先度低] ...

## 推奨アクション

1. ...
2. ...
```

## 注意事項

- ファイルの内容を読み取り、構成を分析してください
- 具体的な改善提案を含めてください
- 優先度を付けて推奨アクションを提示してください
